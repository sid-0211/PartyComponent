<?xml version="1.0" encoding="UTF-8" ?>
<screen  require-authentication="anonymous-all"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="https://moqui.org/xsd/xml-screen-2.1.xsd" >
    <transition name="deletePerson">
        <actions>
            <service-call name="delete#Person" in-map="context" />
            <service-call name="delete#Party" in-map="context" />

        </actions>


        <default-response url="/qapps/RegisterPartyScreen">

        </default-response>
    </transition>



    <actions>
        <entity-find-one entity-name="tutorial.party.Person" value-field="person">
            <field-map field-name="partyId" from="partyId"/>
        </entity-find-one>
<!--        <set field="partyId"  from="partyId"/>-->
    </actions>
    <widgets>
        <container-box>
            <box-header title="Are You Sure to delete the Party">
            </box-header>
            <box-body >
                <label text="ID :  ${partyId}" type="h6"/>
                <label text="First Name :  ${person.firstName}" type="h6"/>
                <label text="Last Name :  ${person.lastName}" type="h6"/>
                <label text="Date Of Birth :  ${person.dateOfBirth}" type="h6"/>

                <form-single name="DeletePerson" transition="deletePerson" >
                    <field name="partyId">
                        <default-field title="Delete">
                            <hidden default-value="partyId"/>
                        </default-field>
                    </field>
                    <field name="submitButton">
                        <default-field title="Delete">
                            <submit/>
                        </default-field>
                    </field>
                </form-single>

            </box-body>
        </container-box>
    </widgets>
</screen>